import pytest

from assignment2 import matrix_chain_order


@pytest.mark.parametrize(
    "p, m, s",
    [
        (
            [1, 2, 3, 4, 3],
            [
                [0, 6, 18, 30],
                [0, 0, 24, 48],
                [0, 0, 0, 36],
                [0, 0, 0, 0],
            ],
            [
                [0, 1, 2, 3],
                [0, 0, 2, 3],
                [0, 0, 0, 3],
                [0, 0, 0, 0],
            ],
        ),
        (
            [30, 35, 15, 5, 10, 20, 25],
            [
                [0, 15750, 7875, 9375, 11875, 15125],
                [0, 0, 2625, 4375, 7125, 10500],
                [0, 0, 0, 750, 2500, 5375],
                [0, 0, 0, 0, 1000, 3500],
                [0, 0, 0, 0, 0, 5000],
                [0, 0, 0, 0, 0, 0],
            ],
            [
                [0, 1, 1, 3, 3, 3],
                [0, 0, 2, 3, 3, 3],
                [0, 0, 0, 3, 3, 3],
                [0, 0, 0, 0, 4, 5],
                [0, 0, 0, 0, 0, 5],
                [0, 0, 0, 0, 0, 0],
            ],
        ),
    ],
)
def test_matrix_chain_order(p, m, s):
    m_res, s_res = matrix_chain_order(p)
    for i in range(len(p) - 1):
        assert m_res[i] == m[i]
        assert s_res[i] == s[i]
